# [50 Shades of Go: Traps, Gotchas, and Common Mistakes for New Golang Devs](http://devs.cloudimmunity.com/gotchas-and-common-mistakes-in-go-golang/)

### Opening Brace Can't Be Placed on a Separate Line

* code-1: [playground](https://play.golang.org/p/z9WS2owGwwh), [file](files/opening-brace-cant-be-placed-on-a-separate-line-1.go)
* code-2: [playground](https://play.golang.org/p/CMWucma8Uha), [file](files/opening-brace-cant-be-placed-on-a-separate-line-2.go)

### Unused Variables

* code-1: [playground](https://play.golang.org/p/rnVKIFvZS94), [file](files/unused-variables-1.go)
* code-2: [playground](https://play.golang.org/p/zLLmh3sOgzV), [file](files/unused-variables-2.go)

### Unused Imports

* code-1: [playground](https://play.golang.org/p/eYEooEa0tGF), [file](files/unused-imports-1.go)
* code-2: [playground](https://play.golang.org/p/ZE8oz8Q5irg), [file](files/unused-imports-2.go)

### Short Variable Declarations Can Be Used Only Inside Functions

* code-1: [playground](https://play.golang.org/p/6e0zFztWZWy), [file](files/short-variable-declarations-can-be-used-only-inside-functions-1.go)
* code-2: [playground](https://play.golang.org/p/rNc3DPtS84K), [file](files/short-variable-declarations-can-be-used-only-inside-functions-2.go)

### Redeclaring Variables Using Short Variable Declarations

* code-1: [playground](https://play.golang.org/p/62jD-MNYiRv), [file](files/redeclaring-variables-using-short-variable-declarations-1.go)
* code-2: [playground](https://play.golang.org/p/z0JZ0xvq1m4), [file](files/redeclaring-variables-using-short-variable-declarations-2.go)

### Can't Use Short Variable Declarations to Set Field Values

* code-1: [playground](https://play.golang.org/p/jf8XcvctxCa), [file](files/cant-use-short-variable-declarations-to-set-field-values-1.go)
* code-2: [playground](https://play.golang.org/p/GHIKnWqq4OK), [file](files/cant-use-short-variable-declarations-to-set-field-values-2.go)

### Accidental Variable Shadowing

* code-1: [playground](https://play.golang.org/p/6JvqsL2NdiY), [file](files/accidental-variable-shadowing-1.go)

### Can't Use "nil" to Initialize a Variable Without an Explicit Type

* code-1: [playground](https://play.golang.org/p/M4n3wNLtkAl), [file](files/cant-use-+nil+-to-initialize-a-variable-without-an-explicit-type-1.go)
* code-2: [playground](https://play.golang.org/p/XdO6iL6AuKi), [file](files/cant-use-+nil+-to-initialize-a-variable-without-an-explicit-type-2.go)

### Using "nil" Slices and Maps

* code-1: [playground](https://play.golang.org/p/9G-_G2IfCJD), [file](files/using-+nil+-slices-and-maps-1.go)
* code-2: [playground](https://play.golang.org/p/W3WNQnZ7b-A), [file](files/using-+nil+-slices-and-maps-2.go)

### Map Capacity

* code-1: [playground](https://play.golang.org/p/A-HpLAYFoAK), [file](files/map-capacity-1.go)

### Strings Can't Be "nil"

* code-1: [playground](https://play.golang.org/p/HOIlrhat8Wo), [file](files/strings-cant-be-+nil+-1.go)
* code-2: [playground](https://play.golang.org/p/uYslCRbQumq), [file](files/strings-cant-be-+nil+-2.go)

### Array Function Arguments

* code-1: [playground](https://play.golang.org/p/BOmum_081aB), [file](files/array-function-arguments-1.go)
* code-2: [playground](https://play.golang.org/p/eIhIuAh-1wI), [file](files/array-function-arguments-2.go)
* code-3: [playground](https://play.golang.org/p/N_XSFxa6OGq), [file](files/array-function-arguments-3.go)

### Unexpected Values in Slice and Array "range" Clauses

* code-1: [playground](https://play.golang.org/p/8FxuDsaPZb3), [file](files/unexpected-values-in-slice-and-array-+range+-clauses-1.go)
* code-2: [playground](https://play.golang.org/p/aJP8_Z1su-z), [file](files/unexpected-values-in-slice-and-array-+range+-clauses-2.go)

### Slices and Arrays Are One-Dimensional

* code-1: [playground](https://play.golang.org/p/En9Y1AqukYC), [file](files/slices-and-arrays-are-one-dimensional-1.go)
* code-2: [playground](https://play.golang.org/p/GIojLMb7ndP), [file](files/slices-and-arrays-are-one-dimensional-2.go)

### Accessing Non-Existing Map Keys

* code-1: [playground](https://play.golang.org/p/NUo8F0AvNjv), [file](files/accessing-non-existing-map-keys-1.go)
* code-2: [playground](https://play.golang.org/p/5M63Bak-Sob), [file](files/accessing-non-existing-map-keys-2.go)

### Strings Are Immutable

* code-1: [playground](https://play.golang.org/p/KQ9uFuQxHbI), [file](files/strings-are-immutable-1.go)
* code-2: [playground](https://play.golang.org/p/twTKuVNDaVX), [file](files/strings-are-immutable-2.go)

### Conversions Between Strings and Byte Slices


### Strings and Index Operator

* code-1: [playground](https://play.golang.org/p/_O_vcbNRmb5), [file](files/strings-and-index-operator-1.go)

### Strings Are Not Always UTF8 Text

* code-1: [playground](https://play.golang.org/p/sDKar3k3ih1), [file](files/strings-are-not-always-utf8-text-1.go)

### String Length

* code-1: [playground](https://play.golang.org/p/ab6djZcfZGP), [file](files/string-length-1.go)
* code-2: [playground](https://play.golang.org/p/VYL8ixHjblw), [file](files/string-length-2.go)
* code-3: [playground](https://play.golang.org/p/3gfLCLla5uE), [file](files/string-length-3.go)

### Missing Comma In Multi-Line Slice, Array, and Map Literals

* code-1: [playground](https://play.golang.org/p/bmeVwmwRZYG), [file](files/missing-comma-in-multi-line-slice,-array,-and-map-literals-1.go)
* code-2: [playground](https://play.golang.org/p/qwsiKjLf4XF), [file](files/missing-comma-in-multi-line-slice,-array,-and-map-literals-2.go)

### log.Fatal and log.Panic Do More Than Log

* code-1: [playground](https://play.golang.org/p/yqsbCVpDPOd), [file](files/log.fatal-and-log.panic-do-more-than-log-1.go)

### Built-in Data Structure Operations Are Not Synchronized


### Iteration Values For Strings in "range" Clauses

* code-1: [playground](https://play.golang.org/p/ZaCB06i7n2H), [file](files/iteration-values-for-strings-in-+range+-clauses-1.go)

### Iterating Through a Map Using a "for range" Clause

* code-1: [playground](https://play.golang.org/p/nlz-7SHQBj2), [file](files/iterating-through-a-map-using-a-+for-range+-clause-1.go)

### Fallthrough Behavior in "switch" Statements

* code-1: [playground](https://play.golang.org/p/BG8V3GqPhA9), [file](files/fallthrough-behavior-in-+switch+-statements-1.go)
* code-2: [playground](https://play.golang.org/p/qfMdB3XnGmW), [file](files/fallthrough-behavior-in-+switch+-statements-2.go)

### Increments and Decrements

* code-1: [playground](https://play.golang.org/p/oL_I1310FS4), [file](files/increments-and-decrements-1.go)
* code-2: [playground](https://play.golang.org/p/efAa_mMASGr), [file](files/increments-and-decrements-2.go)

### Bitwise NOT Operator

* code-1: [playground](https://play.golang.org/p/tRSW1m_Somm), [file](files/bitwise-not-operator-1.go)
* code-2: [playground](https://play.golang.org/p/M2n1VVu59md), [file](files/bitwise-not-operator-2.go)
* code-3: [playground](https://play.golang.org/p/GARx02YzWW5), [file](files/bitwise-not-operator-3.go)

### Operator Precedence Differences

* code-1: [playground](https://play.golang.org/p/OsBX1WAYGD5), [file](files/operator-precedence-differences-1.go)

### Unexported Structure Fields Are Not Encoded

* code-1: [playground](https://play.golang.org/p/RamGD8MqD2G), [file](files/unexported-structure-fields-are-not-encoded-1.go)

### App Exits With Active Goroutines

* code-1: [playground](https://play.golang.org/p/mWD22wiDDmj), [file](files/app-exits-with-active-goroutines-1.go)
* code-2: [playground](https://play.golang.org/p/o1V1HnRd5gZ), [file](files/app-exits-with-active-goroutines-2.go)
* code-3: [playground](https://play.golang.org/p/w0LnOzUcUeN), [file](files/app-exits-with-active-goroutines-3.go)

### Sending to an Unbuffered Channel Returns As Soon As the Target Receiver Is Ready

* code-1: [playground](https://play.golang.org/p/jKxrA7E7pYP), [file](files/sending-to-an-unbuffered-channel-returns-as-soon-as-the-target-receiver-is-ready-1.go)

### Sending to an Closed Channel Causes a Panic

* code-1: [playground](https://play.golang.org/p/EVWZu4hc7ZA), [file](files/sending-to-an-closed-channel-causes-a-panic-1.go)
* code-2: [playground](https://play.golang.org/p/o83tDyWG5eE), [file](files/sending-to-an-closed-channel-causes-a-panic-2.go)

### Using "nil" Channels

* code-1: [playground](https://play.golang.org/p/MvPVURdUsNW), [file](files/using-+nil+-channels-1.go)
* code-2: [playground](https://play.golang.org/p/9YM5on5jWxT), [file](files/using-+nil+-channels-2.go)

### Methods with Value Receivers Can't Change the Original Value

* code-1: [playground](https://play.golang.org/p/yGcW55n0BTo), [file](files/methods-with-value-receivers-cant-change-the-original-value-1.go)

### Closing HTTP Response Body

* code-1: [playground](https://play.golang.org/p/jEJ4PIzSWTb), [file](files/closing-http-response-body-1.go)
* code-2: [playground](https://play.golang.org/p/FaFDoRdxlnF), [file](files/closing-http-response-body-2.go)
* code-3: [playground](https://play.golang.org/p/Ee9geeHfq2A), [file](files/closing-http-response-body-3.go)

### Closing HTTP Connections

* code-1: [playground](https://play.golang.org/p/8BNW5QYDwRk), [file](files/closing-http-connections-1.go)
* code-2: [playground](https://play.golang.org/p/X8l0A2t40Dr), [file](files/closing-http-connections-2.go)

### JSON Encoder Adds a Newline Character

* code-1: [playground](https://play.golang.org/p/MwLQcabArOy), [file](files/json-encoder-adds-a-newline-character-1.go)

### JSON Package Escapes Special HTML Characters in Keys and String Values

* code-1: [playground](https://play.golang.org/p/C7UVunfhtp1), [file](files/json-package-escapes-special-html-characters-in-keys-and-string-values-1.go)

### Unmarshalling JSON Numbers into Interface Values

* code-1: [playground](https://play.golang.org/p/MKAjloaT6hs), [file](files/unmarshalling-json-numbers-into-interface-values-1.go)
* code-2: [playground](https://play.golang.org/p/sux7Jud97vR), [file](files/unmarshalling-json-numbers-into-interface-values-2.go)
* code-3: [playground](https://play.golang.org/p/YfLvZ2OnWLi), [file](files/unmarshalling-json-numbers-into-interface-values-3.go)
* code-4: [playground](https://play.golang.org/p/LQl67PHA5rk), [file](files/unmarshalling-json-numbers-into-interface-values-4.go)
* code-5: [playground](https://play.golang.org/p/kNVhW3LtUoZ), [file](files/unmarshalling-json-numbers-into-interface-values-5.go)
* code-6: [playground](https://play.golang.org/p/9RF4vOGlczQ), [file](files/unmarshalling-json-numbers-into-interface-values-6.go)

### JSON String Values Will Not Be Ok with Hex or Other non-UTF8 Escape Sequences

* code-1: [playground](https://play.golang.org/p/gvsIfehmdhH), [file](files/json-string-values-will-not-be-ok-with-hex-or-other-non-utf8-escape-sequences-1.go)
* code-2: [playground](https://play.golang.org/p/_f9OxD8x12S), [file](files/json-string-values-will-not-be-ok-with-hex-or-other-non-utf8-escape-sequences-2.go)
* code-3: [playground](https://play.golang.org/p/Nv8UuONUQzn), [file](files/json-string-values-will-not-be-ok-with-hex-or-other-non-utf8-escape-sequences-3.go)

### Comparing Structs, Arrays, Slices, and Maps

* code-1: [playground](https://play.golang.org/p/Cb-X0yW6Xrg), [file](files/comparing-structs,-arrays,-slices,-and-maps-1.go)
* code-2: [playground](https://play.golang.org/p/E2lw-mvxw-A), [file](files/comparing-structs,-arrays,-slices,-and-maps-2.go)
* code-3: [playground](https://play.golang.org/p/SY-jObgkq58), [file](files/comparing-structs,-arrays,-slices,-and-maps-3.go)
* code-4: [playground](https://play.golang.org/p/QE8jgixoDZ6), [file](files/comparing-structs,-arrays,-slices,-and-maps-4.go)
* code-5: [playground](https://play.golang.org/p/UBWGF_aDkSp), [file](files/comparing-structs,-arrays,-slices,-and-maps-5.go)
* code-6: [playground](https://play.golang.org/p/hgtiHYRPx3_m), [file](files/comparing-structs,-arrays,-slices,-and-maps-6.go)

### Recovering From a Panic

* code-1: [playground](https://play.golang.org/p/PFKW8ozRKvN), [file](files/recovering-from-a-panic-1.go)
* code-2: [playground](https://play.golang.org/p/LBwnYATIUYA), [file](files/recovering-from-a-panic-2.go)
* code-3: [playground](https://play.golang.org/p/6VL5jsfNZw4), [file](files/recovering-from-a-panic-3.go)

### Updating and Referencing Item Values in Slice, Array, and Map "range" Clauses

* code-1: [playground](https://play.golang.org/p/9YNqjT4rwFn), [file](files/updating-and-referencing-item-values-in-slice,-array,-and-map-+range+-clauses-1.go)
* code-2: [playground](https://play.golang.org/p/jMvfSGLnBhZ), [file](files/updating-and-referencing-item-values-in-slice,-array,-and-map-+range+-clauses-2.go)
* code-3: [playground](https://play.golang.org/p/O_PLs3TRDkk), [file](files/updating-and-referencing-item-values-in-slice,-array,-and-map-+range+-clauses-3.go)

### "Hidden" Data in Slices

* code-1: [playground](https://play.golang.org/p/O1O0WoyzYRe), [file](files/+hidden+-data-in-slices-1.go)
* code-2: [playground](https://play.golang.org/p/-bxLhbra1r2), [file](files/+hidden+-data-in-slices-2.go)

### Slice Data "Corruption"

* code-1: [playground](https://play.golang.org/p/AwyVVKnh98s), [file](files/slice-data-+corruption+-1.go)
* code-2: [playground](https://play.golang.org/p/UbLYRhni9SA), [file](files/slice-data-+corruption+-2.go)

### "Stale" Slices


### Type Declarations and Methods

* code-1: [playground](https://play.golang.org/p/RVUMJ5yxrHE), [file](files/type-declarations-and-methods-1.go)
* code-2: [playground](https://play.golang.org/p/jOJhwpIlWEB), [file](files/type-declarations-and-methods-2.go)
* code-3: [playground](https://play.golang.org/p/3pHmhxqlFLn), [file](files/type-declarations-and-methods-3.go)

### Breaking Out of "for switch" and "for select" Code Blocks

* code-1: [playground](https://play.golang.org/p/KzlBGMdTmd-), [file](files/breaking-out-of-+for-switch+-and-+for-select+-code-blocks-1.go)

### Iteration Variables and Closures in "for" Statements

* code-1: [playground](https://play.golang.org/p/rMQDWYaClEH), [file](files/iteration-variables-and-closures-in-+for+-statements-1.go)
* code-2: [playground](https://play.golang.org/p/2g0Zoh9q8de), [file](files/iteration-variables-and-closures-in-+for+-statements-2.go)
* code-3: [playground](https://play.golang.org/p/Ae3jaVSIC8m), [file](files/iteration-variables-and-closures-in-+for+-statements-3.go)
* code-4: [playground](https://play.golang.org/p/iA4TSYf8BBQ), [file](files/iteration-variables-and-closures-in-+for+-statements-4.go)
* code-5: [playground](https://play.golang.org/p/_PSKCLcpvGA), [file](files/iteration-variables-and-closures-in-+for+-statements-5.go)
* code-6: [playground](https://play.golang.org/p/rbXgykegUpr), [file](files/iteration-variables-and-closures-in-+for+-statements-6.go)

### Deferred Function Call Argument Evaluation

* code-1: [playground](https://play.golang.org/p/iRY3gCXmMZw), [file](files/deferred-function-call-argument-evaluation-1.go)
* code-2: [playground](https://play.golang.org/p/hi0dt9vq5Mp), [file](files/deferred-function-call-argument-evaluation-2.go)

### Deferred Function Call Execution

* code-1: [playground](https://play.golang.org/p/plE9TrsEdPP), [file](files/deferred-function-call-execution-1.go)
* code-2: [playground](https://play.golang.org/p/4wePAD3wDY7), [file](files/deferred-function-call-execution-2.go)

### Failed Type Assertions

* code-1: [playground](https://play.golang.org/p/HZHklPHFJuj), [file](files/failed-type-assertions-1.go)
* code-2: [playground](https://play.golang.org/p/_PA90RR37Xx), [file](files/failed-type-assertions-2.go)

### Blocked Goroutines and Resource Leaks


### Same Address for Different Zero-sized Variables

* code-1: [playground](https://play.golang.org/p/_IaUsssMrHJ), [file](files/same-address-for-different-zero-sized-variables-1.go)

### The First Use of iota Doesn't Always Start with Zero

* code-1: [playground](https://play.golang.org/p/GiS_V9WCQKz), [file](files/the-first-use-of-iota-doesnt-always-start-with-zero-1.go)

### Using Pointer Receiver Methods On Value Instances

* code-1: [playground](https://play.golang.org/p/61zKLevWmvj), [file](files/using-pointer-receiver-methods-on-value-instances-1.go)

### Updating Map Value Fields

* code-1: [playground](https://play.golang.org/p/yeIBO1tIyqd), [file](files/updating-map-value-fields-1.go)
* code-2: [playground](https://play.golang.org/p/0tBzwYY6PAV), [file](files/updating-map-value-fields-2.go)
* code-3: [playground](https://play.golang.org/p/-99cuq9fOmQ), [file](files/updating-map-value-fields-3.go)
* code-4: [playground](https://play.golang.org/p/CMpbZU9nXAB), [file](files/updating-map-value-fields-4.go)
* code-5: [playground](https://play.golang.org/p/o_H9YKSNyzP), [file](files/updating-map-value-fields-5.go)

### "nil" Interfaces and "nil" Interfaces Values

* code-1: [playground](https://play.golang.org/p/Xdmc65Hi3xG), [file](files/+nil+-interfaces-and-+nil+-interfaces-values-1.go)
* code-2: [playground](https://play.golang.org/p/KQPoVTEfRgc), [file](files/+nil+-interfaces-and-+nil+-interfaces-values-2.go)
* code-3: [playground](https://play.golang.org/p/4bZ1w7zxlHx), [file](files/+nil+-interfaces-and-+nil+-interfaces-values-3.go)

### Stack and Heap Variables


### GOMAXPROCS, Concurrency, and Parallelism

* code-1: [playground](https://play.golang.org/p/4hFCnD2aytK), [file](files/gomaxprocs,-concurrency,-and-parallelism-1.go)

### Read and Write Operation Reordering

* code-1: [playground](https://play.golang.org/p/ph-SYSvYf4Q), [file](files/read-and-write-operation-reordering-1.go)

### Preemptive Scheduling

* code-1: [playground](https://play.golang.org/p/EC7uVBFL18L), [file](files/preemptive-scheduling-1.go)
* code-2: [playground](https://play.golang.org/p/x-HvaWljfK6), [file](files/preemptive-scheduling-2.go)
* code-3: [playground](https://play.golang.org/p/ELzK30ZNQLg), [file](files/preemptive-scheduling-3.go)

### Import C and Multiline Import Blocks

* code-1: [playground](https://play.golang.org/p/JZ6H6_c3pU2), [file](files/import-c-and-multiline-import-blocks-1.go)
* code-2: [playground](https://play.golang.org/p/O1QUglcVjsu), [file](files/import-c-and-multiline-import-blocks-2.go)

### No blank lines Between Import C and Cgo Comments

* code-1: [playground](https://play.golang.org/p/LGd2CEcC65S), [file](files/no-blank-lines-between-import-c-and-cgo-comments-1.go)

### Can't Call C Functions with Variable Arguments

* code-1: [playground](https://play.golang.org/p/8sDX4tHI2gJ), [file](files/cant-call-c-functions-with-variable-arguments-1.go)
* code-2: [playground](https://play.golang.org/p/pDEjHjs_0_z), [file](files/cant-call-c-functions-with-variable-arguments-2.go)
